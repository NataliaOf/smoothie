"use strict";console.log("global"),console.log("maxgraph");var slideIndex=0;function showSlides(){var e,r=document.getElementsByClassName("slider__body");for(e=0;e<r.length;e++)r[e].style.display="none";++slideIndex>r.length&&(slideIndex=1),r[slideIndex-1].style.display="block",setTimeout(showSlides,5e3)}showSlides(),console.log("slider");var selector=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+33 (999) 999-99-99");im.mask(selector);var form=document.querySelector(".order__form");if(form){var submitForm=function(){form.submit(),alert("Отправка")},btn=document.querySelector(".order__btn");btn.addEventListener("click",(function(e){e.preventDefault();var r=document.querySelector(".name"),t=document.querySelector(".phone"),o=document.querySelector(".address"),n=document.querySelector(".order__textor");console.log();var a=document.querySelector(".eror__name"),c=document.querySelector(".eror__phone"),l=document.querySelector(".eror__address"),s=document.querySelector(".eror__order");n.value.length<=30?(s.innerHTML="Сhoose a drink",n.classList.add("error"),console.log(n.classList.contains("error"))):(s.innerHTML="",n.classList.remove("error")),!/[aA-zZ]/i.test(r.value)||r.value.length<3?(a.innerHTML="Enter your name",r.classList.add("error"),console.log(r.classList.contains("error"))):(a.innerHTML="",r.classList.remove("error")),""==t.value?(c.innerHTML="Enter your phone",t.classList.add("error"),console.log(t.classList.contains("error"))):(c.innerHTML="",t.classList.remove("error")),""==o.value?(l.innerHTML="Enter your address",o.classList.add("error"),console.log(o.classList.contains("error"))):(l.innerHTML="",o.classList.remove("error")),console.log(n.classList.contains("error")),console.log(a.classList.contains("error")),console.log(c.classList.contains("error")),console.log(l.classList.contains("error")),n.classList.contains("error")||r.classList.contains("error")||t.classList.contains("error")||o.classList.contains("error")?e.preventDefault():(submitForm(),form.reset())}))}function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var main=document.querySelector(".main"),page=main.dataset.main,link=document.querySelectorAll(".menu__link"),text=document.querySelector(".header__text");"Smoothie"==page&&link[0].classList.add("_activ"),"About us"==page&&(link[1].classList.add("_activ"),text.innerText="Some facts about our activity"),"Menu"==page&&(link[2].classList.add("_activ"),text.innerText="Choose your favorite drinks"),"Contact"==page&&(link[3].classList.add("_activ"),text.innerText="We're glad to see you");var title=document.querySelector(".header__title");if(title)var titleText=document.querySelector(".header__title").innerHTML=page;var footerOpen=document.querySelector(".open__title"),open=document.querySelector(".open"),footerContact=document.querySelector(".contact__title"),contact=document.querySelector(".contact");footerOpen.addEventListener("click",(function(){open.classList.toggle("hidden")})),footerContact.addEventListener("click",(function(){contact.classList.toggle("hidden")}));var btnMenu=document.querySelector(".menu__burger"),bodyMenu=document.querySelector(".menu");btnMenu.addEventListener("click",(function(){bodyMenu.classList.toggle("_activ")}));var stats=document.querySelectorAll(".stats__namber"),timerId=setInterval(ratingInc,1e4);function ratingInc(){var e,r=_createForOfIteratorHelper(stats);try{for(r.s();!(e=r.n()).done;){var t=e.value;t.innerHTML=Number(t.innerHTML)+Math.round(10*Math.random())}}catch(e){r.e(e)}finally{r.f()}}var inputs=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(inputs,(function(e){var r=e.nextElementSibling,t=r.innerHTML;e.addEventListener("change",(function(e){var o="";(o=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?r.querySelector("span").innerHTML=o:r.innerHTML=t}))}));var commentBtn=document.querySelector(".yourcomments__btn");commentBtn&&commentBtn.addEventListener("click",(function(){var e=document.querySelector(".foto").innerHTML,r=document.createElement("div");r.classList.add("review__foto"),r.innerHTML="Upload photo"==e?'<img src="../img/avatar.png" alt="foto" class="review__img">':'<img src="../img/staf2.jpg" alt="foto" class="review__img">';var t=document.createElement("div");t.classList.add("review");var o=document.createElement("div");o.classList.add("review__info");var n=document.querySelector(".yourName").value;if(n.length<=1)return document.querySelector(".yourName").placeholder="Please enter your name",void document.querySelector(".yourName").classList.add("error");var a=document.createElement("h4");a.classList.add("review__name"),a.innerHTML=n;var c=document.querySelector(".yourcomments__text").value;if(c.length<=5)return document.querySelector(".yourcomments__text").placeholder="Please write a review",void document.querySelector(".yourcomments__text").classList.add("error");var l=document.createElement("div");l.classList.add("review__text"),l.innerText=c;var s=new Date,i=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear(),u=document.createElement("div");u.classList.add("review__date"),u.innerHTML=i,t.append(r),o.append(a),o.append(u),o.append(l),t.append(o),document.querySelector(".reviews__box").prepend(t),document.querySelector(".yourName").value="",document.querySelector(".yourcomments__text").value="",document.querySelector(".foto").innerHTML="Upload photo",document.querySelector(".yourName").placeholder="Your name",document.querySelector(".yourcomments__text").placeholder="Your text",document.querySelector(".yourName").classList.remove("error"),document.querySelector(".yourcomments__text").classList.remove("error")}));var menu=document.querySelector(".items");if(menu){var orderСost=function(e){var r,t=0,o=0,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var a=r.value.innerHTML;a=(a=Number(a)).toFixed(2),o=(o+=Number(a)).toFixed(2),o=Number(o),t++}}catch(e){n.e(e)}finally{n.f()}var c=document.querySelector(".butt__order");c.innerHTML=0===o?0:t,document.querySelector(".order__allPrise").innerHTML=o};menu.addEventListener("click",(function(e){var r=e.target;if("BUTTON"==r.tagName){var t=r.closest("div"),o=t.children[0].innerHTML,n=t.children[3].innerHTML,a=document.querySelector(".order__list");document.querySelector(".butt").style.display="flex";var c=document.createElement("span");c.classList.add("order__price"),c.innerHTML=n;var l=document.createElement("span");l.classList.add("order__name"),l.innerHTML=o,document.querySelector(".order__textor").innerHTML+=" \n\n         ".concat(o,",  ");var s=document.createElement("span");s.classList.add("order__close"),s.innerHTML="&#10008;";var i=document.createElement("li");i.classList.add("order__item"),i.append(l),i.append(c),i.append(s),a.append(i);var u=document.querySelectorAll(".order__price");orderСost(u);var d,m=_createForOfIteratorHelper(document.querySelectorAll(".order__close"));try{for(m.s();!(d=m.n()).done;){d.value.addEventListener("click",(function(e){e.target.closest("li").remove();var r=document.querySelectorAll(".order__price");orderСost(r)}))}}catch(e){m.e(e)}finally{m.f()}}}));var butt=document.querySelector(".butt");butt.addEventListener("click",(function(){document.querySelector(".order").classList.toggle("open")}))}